<!doctype html>
<html>
<head>
    <title>BJS &amp; KTX textures test</title>
	<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
    <script type='text/javascript' src='babylon.js'></script>	
    <style type='text/css'>
        html, body, div, canvas {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }
		#notaBene{
			position:absolute;
			color:white;
			font-family:verdana;
			background-color:rgba(0,0,0,.5);
			padding:.5%;
			margin:0;
			font-size:.9em;
			width:auto;
			height:auto;
		}
			#notaBene a{color:white;text-decoration:none;}
			#notaBene a:hover{color:#30C8F2;text-decoration:underline;}
    </style>
</head>
<body>
<div id="notaBene"><a href="https://github.com/Vinc3r/BJS-KTX-textures">github link, oh yeah</a></div>
<canvas id='canvas'></canvas>
<button id='debugLayerButton'>Debug layer</button>
<script type='text/javascript'>
	var canvas = document.getElementById('canvas');
	var engine = new BABYLON.Engine(canvas, true);
	
	var available = ['-astc.ktx', '-dxt.ktx', '-pvrtc.ktx', '-etc2.ktx'];
	var formatUsed = engine.setTextureFormatToUse(available);
	
	BABYLON.SceneLoader.Load('', 'scene.babylon', engine, function (wonderfulScene) {
	
	//camera parameters
	wonderfulScene.activeCamera.attachControl(canvas);
	wonderfulScene.activeCamera.speed=.1;

	wonderfulScene.clearColor = new BABYLON.Color3(1, 1, 1);
	wonderfulScene.ambientColor = new BABYLON.Color3(1,1,1);
	
	engine.runRenderLoop(function() {
		wonderfulScene.render();
	});

	window.addEventListener('resize', function () {
		engine.resize();
	});

	document.getElementById('debugLayerButton').addEventListener('click', function () {
		if (wonderfulScene.debugLayer.isVisible()) {
		    wonderfulScene.debugLayer.hide();
		} else {
		    wonderfulScene.debugLayer.show();
		}
	    });
	});
</script>
</body>
</html>
